{"version":3,"sources":["assets/letter-x.png","assets/tick.png","actions/dashboardActions.js","actions/userActions.js","components/dashboard/devicesList.jsx","components/dashboard/deviceInfoTabContent.jsx","config.js","components/stream/stream.js","components/dashboard/deviceStreamTabContent.jsx","components/dashboard/deviceSettingsTabContent.jsx","components/dashboard/deviceDatabaseTabContent.jsx","reducers/dashboardReducer.js","reducers/testReducer.js","reducers/userReducer.js","reducers/index.js","middleware/apiMiddleware.js","store/index.js","store/configureStore.js","actions/testActions.js","components/dashboard/deviceTestTabContent.jsx","components/dashboard/deviceInfo.jsx","components/dashboard/dashboard.jsx","components/navbar/navbar.jsx","components/report/summary.jsx","components/report/modal.jsx","components/report/report.jsx","App.js","index.js"],"names":["module","exports","getDevicesList","type","api","url","method","getDevice","ip","port","data","getDeviceSnapshots","showCurrentDevice","refreshImage","killStream","fetchUser","ListItem","_ref","id","text","onClick","active","pending","react_default","a","createElement","key","className","concat","DevicesList","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","props","dashboardActions","_this","listItems","list","map","item","devicesList_ListItem","currentDevice","show","Fragment","data-toggle","href","role","aria-expanded","aria-controls","style","cursor","devices","React","Component","connect","state","dashboardReducer","dispatch","bindActionCreators","DashboardAction","DeviceInfoTabContent","currentDeviceData","apiUrl","StreamContainer","call","hls","Hls","loaded","supported","isSupported","_this2","video","document","getElementById","console","log","attachMedia","loadSource","on","Events","MANIFEST_PARSED","setState","play","dontkill","fetch","then","catch","stopLoad","controls","display","spinner","DeviceStreamTabContent","togglePicture","tab","prevSnapshot","currentSnapshot","snapshot_url","_React$createElement","_React$createElement2","stream_url","indexOf","Date","now","snapshot_avaliable","private_snapshot_url","includes","carouselItems","snapshotsList","src","alt","camera","datetime","toggler","checked","onChange","top","pointerEvents","image","stream_StreamContainer","defineProperty","data-target","private_stream_url","target","rel","tabIndex","aria-labelledby","aria-hidden","data-ride","data-slide","snapshots","DeviceSettingsTabContent","DeviceDatabaseTabContent","reports","isFetched","resp","json","tableItems","filter","device","scope","created","length","class","initialState","error","tests","currIndex","done","testInProgress","email","name","surname","image_url","register_date","combineReducers","undefined","action","objectSpread","toConsumableArray","testReducer","updated_test","response","splice","index","result","resolution","userReducer","databaseReducer","_doRequest","dfd","$","resolve","fail","err","reject","promise","apiMiddleware","store","next","createStore","rootReducer","applyMiddleware","ReduxThunk","logger","configureStore","runTest","_store$getState$testR","getState","_store$getState$dashb","test","service","test_type","test_name","startTestAction","nextTest","closeTestAction","resolveTestManually","flatten","reduce","b","Array","isArray","DeviceTestTabContent","selected_test_type","left_column","right_column","chooseTestType","event","current_test","avaliable_tests","available_tests","startTest","testActions","addToRightColumn","removeFromRightColumn","getAddFullListBtn","allTests","test_service","tooltip","title","placement","dropdownItems","leftItems","deviceTestTabContent_ListItem","rightItems","runBtn","aboutBtn","addAll","removeAll","addFullList","aboutModal","data-dismiss","aria-label","data-placement","data-html","data-animation","htmlFor","TestAction","DeviceInfo","currentTab","currentTabContent","deviceInfoTabContent","deviceStreamTabContent","deviceTestTabContent","deviceSettingsTabContent","deviceDatabaseTabContent","Dashboard","userActions","devicesList","deviceInfo","dashboard","UserAction","Navbar","user","Summary","testResponse","summary","push","summaryItems","keys","sort","s","charAt","toUpperCase","slice","report_name","report","split","i","lineHeight","Modal","onClose","testIsDone","onTestFailed","onTestPassed","onStart","Report","_Component","toggleChange","printResponses","handleDownload","isReportReady","downloadReport","deviceData","testsList","camInfo","runnedTests","headers","Accept","Content-Type","body","JSON","stringify","window","open","returnBack","currTest","currTestIndex","testsDone","entries","showModal","modal","downloadBtn","disabled","backBtn","color","errorImg","fetchedImg","data-parent","extension","tCurrTest","modalTitle","for","testsFetched","App","navbar","render","es","src_App"],"mappings":"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","file":"static/js/main.cc512353.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQRFQwgzBdb6QAAAL9JREFUSMfNlssKwjAQRQ9S8IMEm/rNiv6TtO609QeumyxC6COPoZhVnucOA3MnCB6CQdBhNARO8BLcEPQCCSaBM4JPnvlEcBK8LUQi1iho5w6KRBbhCxeyRDbhNSLJ8JUHzgye87AYngKohq+BzOALhfMJ5qPgbFX6YdRZkR8SNY5AE6wbv2cS/UXwnUlRvXcJuijnrZl3zcEtbGUTXi2SAi+xlWx4iZPGcPcXvWCXbrYqskfTv3sR629LL7j+APJRXoh+oaytAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQRFQs7CTMEwgAAASNJREFUSMft1UFKw1AQxvH/PKFtUJJ4gZbiIQQXggupd+jW2IU9iRcobVMEb+BGcCGtC6EeJ+kidWHGhVGw0heSJrvOOvy+vJl5PNhXTkkdaGvqdRUdKbxJTfgc6ACR1Iingl6bqnBnfNxW9CXDFWS4Dlb3UhWems8F0M3w248gGlUyZBu+c0AeDnBQeqCh31FJrXjpE7RCv6OazvNwAGlM3AcRzkxKPxnE7yVW8WYdrGbbvjci9ICT1PDsjN3TKvHvAJU+SAJ4tpAMXxTBf2fQCo/OVc0TcAhEBq6SIF6W6fnWIf8JUWIj9JIgXu6C/9ui5tS7BB5BHSBSZCDoHdAu0hbrmm6066cK/7n1HmyElMbt+z7zL5pT77Uxcfv7d7nW+gJ2L6x+MkAiEwAAAABJRU5ErkJggg==\"","export function getDevicesList() {\n    return {\n        type: 'GET_DEVICES_LIST',\n        api: {\n            url: '/api/devices',\n            method: 'GET'\n        },\n    };\n}\n\nexport function getDevice(ip, port) {\n    return {\n        type: 'GET_DEVICE',\n        api: {\n            url: '/api/device',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function getDeviceSnapshots(ip, port) {\n    return {\n        type: 'GET_DEVICE_SNAPSHOTS',\n        api: {\n            url: '/api/get_snapshots',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function showCurrentDevice() {\n\treturn {\n\t\ttype: 'HIDE_CURRENT_DEVICE',\n\t}\n}\n\nexport function refreshImage(ip, port) {\n    return {\n        type: 'REFRESH_SNAPSHOT_IMAGE',\n        api: {\n            url: '/api/current_snapshot',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}\n\nexport function killStream(ip, port) {\n    return {\n        type: 'KILL_STREAM',\n        api: {\n            url: '/api/stop_stream',\n            method: 'GET',\n            data : { ip, port }\n        },\n    };\n}","export function fetchUser() {\n    return {\n        type: 'FETCH_USER',\n        api: {\n            url: '/api/user'\n        }\n    }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport '../../styles/horizontal-loader.css';\n\n\nfunction mapStateToProps(state) {\n    return {\n        list: state.dashboardReducer.list.devices,\n        devices: state.dashboardReducer.list,\n        currentDevice: state.dashboardReducer.currentDevice,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\nconst ListItem = ({id, text, onClick, active, pending}) => {\n    return (\n        <button key={id} type=\"button\" onClick={onClick} className={`list-group-item d-flex justify-content-between list-group-item-action${active?\" active\":\"\"}`}>\n            {text}\n            {pending?(<div className=\"typing_loader\"></div>):(null)}\n        </button>\n    )\n}\n\nexport class DevicesList extends React.Component {\n\n    componentDidMount() {\n        this.props.dashboardActions.getDevicesList();\n    }\n\n    render() {\n        const listItems = this.props.list.map((item, id) => (\n            <ListItem\n                key={id}\n                text={`${item.ip}:${item.port}`}\n                onClick={() => {this.props.dashboardActions.getDevice(item.ip, item.port)}}\n                active={this.props.currentDevice.data.ip === item.ip\n                        && this.props.currentDevice.data.port === item.port\n                        && this.props.currentDevice.show}\n                pending={this.props.currentDevice.data.ip === item.ip\n                        && this.props.currentDevice.data.port === item.port\n                        && this.props.currentDevice.pending}\n                />\n        ))\n\n        return (\n            <React.Fragment>\n                <div className=\"row mb-2\">\n                    <div className={'col d-flex align-items-baseline justify-content-between'}>\n                        <span className=\"h5 m-0\">\n                          Devices\n                          <i className=\"d-sm-inline-block d-md-none small align-middle material-icons ml-1\"\n                            data-toggle=\"collapse\" href=\"#collapseDevicesList\" role=\"button\" \n                            aria-expanded=\"false\" aria-controls=\"collapseDevicesList\" style={{'cursor': 'pointer'}}>\n                            radio_button_checked\n                          </i>\n                        </span>\n                        {this.props.devices.pending ? (\n                        <div className=\"typing_loader\"></div>):(\n                          <span className=\"m-0\">\n                            <i className=\"align-middle material-icons\" style={{'cursor': 'pointer'}}\n                            onClick={ () => {this.props.dashboardActions.getDevicesList()}}>refresh</i>\n                          </span>)}\n                    </div>\n                </div>\n                <div className=\"collapse show\" id=\"collapseDevicesList\">\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <div className=\"list-group\">\n                                {listItems}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n            \n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DevicesList)\n","import React from 'react';\n\nconst DeviceInfoTabContent = (props) => {\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Device Information:</h5>\n            <div className=\"card\">\n                <ul className=\"list-group list-group-flush\">\n                    <li className=\"list-group-item\">Address: {`${props.currentDeviceData['ip']}:${props.currentDeviceData['port']}`}</li>\n                    <li className=\"list-group-item\">Manufacturer: {props.currentDeviceData['Manufacturer']}</li>\n                    <li className=\"list-group-item\">Model: {props.currentDeviceData['Model']}</li>\n                    <li className=\"list-group-item\">Firmware Version: {props.currentDeviceData['Firmware Version']}</li>\n                    <li className=\"list-group-item\">Serial Number: {props.currentDeviceData['Serial Number']}</li>\n                    <li className=\"list-group-item\">Hardware ID: {props.currentDeviceData['Hardware ID']}</li>\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default DeviceInfoTabContent;\n","export const apiUrl = process.env.NODE_ENV === 'production' ? 'http://onvif.auditory.ru' : 'http://127.0.0.1:5000';\n","import React from 'react';\nimport { apiUrl } from '../../config';\nimport Hls from 'hls.js';\n\t\nexport default class StreamContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tip: props.ip,\n\t\t\tport: props.port,\n\t\t\thls: (new Hls()),\n\t\t\tloaded: false,\n\t\t\tsupported: Hls.isSupported()\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.state.supported) {\n\t\t\tconst video = document.getElementById(`${this.state.ip}${this.state.port}`);\n\t\t\tconsole.log(video)\n\t\t\tthis.state.hls.attachMedia(video);\n\t\t\tthis.state.hls.loadSource(`${apiUrl}/livestream?ip=${this.state.ip}&port=${this.state.port}`);\n\t\t\tthis.state.hls.on(Hls.Events.MANIFEST_PARSED, () => { \n\t\t\t\tthis.setState({loaded: true})\n\t\t\t\tvideo.play() \n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\t!this.props.dontkill && fetch(`${apiUrl}/api/stop_stream?ip=${this.state.ip}&port=${this.state.port}`)\n\t\t.then(() =>{})\n\t\t.catch(() =>{})\n\t\t!this.props.dontkill && this.state.hls.stopLoad()\n\t}\n\n\trender() {\n\t\tconst video = (<video controls={true} className=\"w-100\" id={`${this.state.ip}${this.state.port}`} \n\t\t\tstyle={{'display': (this.state.loaded ? 'block': 'none')}}/>);\n\n\t\tconst spinner = this.props.spinner;\n\n\t\treturn this.state.supported ? ( \n\t\t\t<div className=\"position-relative\">\n\t\t\t\t{video}\n\t\t\t\t{!this.state.loaded ? (spinner) : (null)}\n\t\t\t</div>\n\t\t) : (<p>Stream is not supported on your device.</p>);\n\t}\n}\n\t","import React from 'react';\nimport { apiUrl } from '../../config';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport StreamContainer from '../stream/stream';\nimport '../../styles/switch.css';\nimport '../../styles/style.css';\n\n\nfunction mapStateToProps(state) {\n    return {\n        currentSnapshot: state.dashboardReducer.currentDevice.currentSnapshot,\n        snapshotsList: state.dashboardReducer.snapshotsList.snapshots\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\nclass DeviceStreamTabContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'snapshot',\n            prevSnapshot: props.snapshot_url\n        }\n    }\n\n    componentDidMount() {\n        console.log(this.props.currentDeviceData.ip)\n        console.log(this.props.currentDeviceData.port)\n        this.props.dashboardActions.getDeviceSnapshots(this.props.currentDeviceData.ip, this.props.currentDeviceData.port);\n        this.props.dashboardActions.refreshImage(this.props.currentDeviceData.ip, this.props.currentDeviceData.port)\n        console.log(this.props)\n    }\n\n    togglePicture = () => {\n        if (this.state.tab === 'snapshot') {\n            this.setState({tab: 'stream'});\n        } else {\n            this.setState({tab: 'snapshot'});\n        }\n    }\n\n    refreshImage = () => {\n      this.setState({prevSnapshot: this.props.currentSnapshot ? (this.props.currentSnapshot.url || this.state.prevSnapshot) : this.state.prevSnapshot})\n      this.props.dashboardActions.refreshImage(\n        this.props.currentDeviceData.ip,\n        this.props.currentDeviceData.port)\n    }\n\n    render() {\n        let url = apiUrl + (this.state.tab === 'snapshot' ? ((this.props.currentSnapshot && this.props.currentSnapshot.url) ? this.props.currentSnapshot.url : this.state.prevSnapshot): this.props.stream_url);\n        url = url + (~url.indexOf('?')?'&':'?') + `t=${Date.now()}`;\n\n        const snapshot_avaliable = this.props.private_snapshot_url ? !(this.props.private_snapshot_url.includes(\"rtsp\")) : null;\n\n        const carouselItems = this.props.snapshotsList ? this.props.snapshotsList.map((item, id) => (\n            <div key={id} className={`carousel-item ${id === 0 ? 'active': ''}`}>\n              <img src={`${apiUrl}${item.url}`} className=\"d-block w-100\" alt={`Snapshot${id}`}/>\n              <div className=\"carousel-caption\">\n                <h5>{item.camera}</h5>\n                <p>{item.datetime}</p>\n              </div>\n            </div>\n        )) : []\n\n        const toggler = (\n            <div className=\"switch-wrapper\">\n                Show snapshot\n                <label className=\"switch\">\n                    <input type=\"checkbox\" checked={this.state.tab === 'stream'} onChange={this.togglePicture}/>\n                    <span className=\"slider\"></span>\n                </label>\n                Show Stream\n            </div>\n        )\n        \n        const spinner = (<div style={{'top': 0, 'pointerEvents': 'none'}} className=\"d-flex justify-content-center align-items-center w-100 h-100 position-absolute\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>)\n\n        const image = (this.state.tab === 'snapshot') ? (<div className=\"position-relative\">\n          {<img src={url} alt=\"snapshot\" className=\"stream-image\" onClick={() => {this.refreshImage()}}/>}\n          {(!this.props.currentSnapshot || this.props.currentSnapshot.pending) ? spinner : (null)}\n        </div>) : (<StreamContainer spinner={spinner} ip={this.props.currentDeviceData.ip} port={this.props.currentDeviceData.port}/>)\n\n\n        return (\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">RTSP Stream:</h5>\n                <div className=\"card snapshot-card\">\n                <div className=\"row align-items-center\">\n                  <div className=\"col-sm-12 col-md-6\">{toggler}</div>\n                  <div className=\"col-sm-12 col-md-6\">\n                    <div>\n                      <button type=\"button\" className=\"btn btn-sm mr-2 btn-secondary\"\n                        type=\"button\" data-toggle=\"collapse\" data-target=\"#showRtspUrl\"\n                        aria-expanded=\"false\" aria-controls=\"showRtspUrl\">\n                        RTSP Url\n                      </button>\n                      <button type=\"button\" className=\"btn btn-sm mr-2 btn-secondary\"\n                        type=\"button\" data-toggle=\"collapse\" data-target=\"#showSnapshotUrl\"\n                        aria-expanded=\"false\" aria-controls=\"showSnapshotUrl\">\n                        Snapshot Url\n                      </button>\n                      <button type=\"button\" className=\"btn btn-sm btn-primary\"\n                        data-toggle=\"modal\" data-target=\".bd-slideshow-modal-lg\">\n                        Slideshow\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                    {image}\n                </div>\n                <div className=\"collapse\" id=\"showRtspUrl\">\n                  RTSP avaliable at:\n                  <a href={this.props.private_stream_url}>\n                    {' ' + this.props.private_stream_url}\n                  </a>\n                </div>\n                <div className=\"collapse\" id=\"showSnapshotUrl\">\n                  {!this.props.private_snapshot_url ? ('Device does not support Snapshot or Snapshot Url content is not valid') : (!snapshot_avaliable ? 'Device does not support Snapshot or Snapshot Url content is not valid'\n                  : 'Snapshot avaliable at:')}\n                  {!this.props.private_snapshot_url ? (null) : (!snapshot_avaliable ? (null) :\n                    <a href={this.props.private_snapshot_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                      {' ' + this.props.private_snapshot_url}\n                    </a>\n                  )}\n                </div>\n                <div className=\"modal fade bd-slideshow-modal-lg\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n                  <div className=\"modal-dialog modal-lg\">\n                    <div className=\"modal-content\">\n                        <div id=\"carousel-slideshow\" className=\"carousel\" data-ride=\"carousel\">\n                            <div className=\"carousel-inner\">\n                              {carouselItems}\n                            </div>\n                            <a className=\"carousel-control-prev\" href=\"#carousel-slideshow\" role=\"button\" data-slide=\"prev\">\n                              <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                              <span className=\"sr-only\">Previous</span>\n                            </a>\n                            <a className=\"carousel-control-next\" href=\"#carousel-slideshow\" role=\"button\" data-slide=\"next\">\n                              <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                              <span className=\"sr-only\">Next</span>\n                            </a>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeviceStreamTabContent);\n","import React from 'react';\n\nconst DeviceSettingsTabContent = (props) => {\n    // TOD0: Device settings\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Settings(in development):</h5>\n        </div>\n    )\n}\n\nexport default DeviceSettingsTabContent;","import React, {Component} from 'react';\nimport { apiUrl } from '../../config';\n\nclass DeviceDatabaseTabContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            reports: [],\n            isFetched: false\n        }\n    }\n\n    componentDidMount() {\n      fetch(`${apiUrl}/api/reports`, { method: 'GET'})\n     .then(resp => resp.json())\n     .then(json => this.setState({reports: json, isFetched: true})\n     )\n    }\n\n    render() {\n        const tableItems = this.state.reports && this.state.reports.filter(item => item.device).map((item, id) => (\n            <tr>\n              <th scope=\"row\">{id+1}</th>\n              <td>{ item.device && item.device.ip }</td>\n              <td>{ item.created }</td>\n              <td>\n                <a className=\"btn btn-primary\" target={\"_blank\"} href={`${apiUrl}/${item.url}`}>\n                  Download\n                </a>\n              </td>\n            </tr>))\n    return (\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">Previous reports:</h5>\n            {this.state.isFetched ? (\n            this.state.reports.length ? (<table className=\"table table-bordered table-responsive-md\">\n              <tbody>\n                {tableItems}\n              </tbody>\n            </table>) : \"No avaliable reports\"):\n            (<div class=\"spinner-border\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>)}\n        </div>\n    )\n}\n}\n\nexport default DeviceDatabaseTabContent;","const initialState = {\n  list: {\n    devices: [],\n    pending: false,\n    error: false\n  },\n\n  currentDevice: {\n    data: {},\n    pending: false,\n    error: false,\n    show: false,\n\n    currentSnapshot: {\n      url: null,\n      pending: false,\n      error: false\n    }\n  },\n\n  snapshotsList: {\n    snapshots: [],\n    pending: false,\n    error: false\n  }\n\n};\n\nexport default function dashboardReducer(state = initialState, action) {\n\n    switch (action.type) {\n      case \"GET_DEVICES_LIST\": {\n        if (action.data) {\n          const list = {\n            devices: action.data,\n            pending: false,\n            error: false\n          }\n          return { ...state, list }\n        }\n        break\n      }\n      case \"GET_DEVICES_LIST__PENDING\": {\n      const list = {\n        devices: [],\n        pending: true,\n        error: false\n      }\n      const currentDevice = {\n          data: {},\n          pending: false,\n          error: false,\n          show: false\n        }\n\n      return { ...state, currentDevice, list }\n      }\n      case \"GET_DEVICES_LIST__ERROR\": {\n      const list = {\n        devices: [],\n        pending: false,\n        error: true\n      }\n      return { ...state, list }\n      }\n\n\n      case \"GET_DEVICE\": {\n        if (action.data) {\n          const currentDevice = {\n            data: action.data,\n            pending: false,\n            error: false,\n            show: true\n          }\n          return { ...state, currentDevice }\n        }\n        break\n      }\n\n      case \"GET_DEVICE__PENDING\": {\n      const currentDevice = {\n        data: {...action.api.data},\n          pending: true,\n          error: false,\n          show: false\n      }\n      return { ...state, currentDevice }\n      }\n\n      case \"GET_DEVICE__ERROR\": {\n        const currentDevice = {\n        data: {},\n          pending: false,\n          error: true,\n          show: false\n      }\n      return { ...state, currentDevice }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS\": {\n          const snapshotsList = {\n            snapshots: action.data,\n            pending: false,\n            error: false,\n          }\n          return { ...state, snapshotsList }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS__PENDING\": {\n      const snapshotsList = {\n        data: {...action.api.data},\n          pending: true,\n          error: false,\n      }\n      return { ...state, snapshotsList }\n      }\n\n      case \"GET_DEVICE_SNAPSHOTS__ERROR\": {\n        const snapshotsList = {\n        data: {},\n          pending: false,\n          error: true,\n      }\n      return { ...state, snapshotsList }\n      }\n\n      case \"HIDE_CURRENT_DEVICE\": {\n        const currentDevice = { ...state.currentDevice, show: false }\n        return { ...state,  ...currentDevice }\n      }\n\n      case \"REFRESH_SNAPSHOT_IMAGE\": {\n        const currentSnapshot = {\n          url: action.data.url,\n          pending: false,\n          error: false\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        const snapshots = [...state.snapshotsList.snapshots, {...action.data}]\n        const snapshotsList = {...state.snapshotsList, snapshots}\n        return { ...state,  currentDevice, snapshotsList }\n      }\n      case \"REFRESH_SNAPSHOT_IMAGE__PENDING\": {\n       const currentSnapshot = {\n          url: null,\n          pending: true,\n          error: false\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        return { ...state,  currentDevice }\n\n      }\n      case \"REFRESH_SNAPSHOT_IMAGE__ERROR\": {\n        const currentSnapshot = {\n          url: null,\n          pending: false,\n          error: true\n        }\n        const currentDevice = {\n          ...state.currentDevice,\n          currentSnapshot\n        }\n        return { ...state,  currentDevice }\n\n      }\n\n      default: {\n        break\n      }\n    }\n    return state\n}","const initialState = {\n  tests: [],\n  currIndex: 0,\n  done: false,\n  testInProgress: false,\n}\n\n\nexport default function testReducer(state=initialState, action) {\n  switch (action.type) {\n    case \"INIT_TESTS\": {\n      if (action.data) {\n        const tests = action.data.map(item => ({\n          ...item, \n          pending: false, \n          error: false,\n          data: {},\n        }))\n        const currIndex = 0;\n        return { ...state, tests, done: false, currIndex, testInProgress: true }\n      }\n      return state\n    }\n\n    case \"CLOSE_TEST\":\n      return {...state, currIndex: 0, done: false, testInProgress: false}\n\n    case \"NEXT_TEST\":\n      return {...state, currIndex: state.currIndex+1}\n\n    case \"RUN_TEST\": {\n      if (action.data) {\n        let tests = [...state.tests]\n        const updated_test = {\n          ...tests[state.currIndex],\n          pending: false,\n          error: false,\n          data: {...action.data.response}\n        }\n        tests[state.currIndex] = updated_test\n        // if interactive, go next test manually\n        const currIndex = ~updated_test.name.indexOf('Interactive') ? state.currIndex : state.currIndex+1\n        return {...state, tests, currIndex, done: state.currIndex >= tests.length-1 }\n      }\n      return state\n    }\n\n    case \"RUN_TEST__PENDING\": {\n      let tests = [...state.tests]\n      const updated_test = {\n        ...state.tests[state.currIndex],\n        pending: true,\n      }\n      tests.splice(state.currIndex, 1, updated_test)\n      return {...state, tests }\n    }\n\n    case \"RUN_TEST__ERROR\": {\n      let tests = [...state.tests]\n      const updated_test = {\n        ...state.tests[state.currIndex],\n        pending: false,\n        error: true,\n        data: {...action.data.response}\n      }\n      tests.splice(state.currIndex, 1, updated_test)\n      // if interactive, go next test manually\n      const currIndex = ~updated_test.name.indexOf('Interactive') ? state.currIndex : state.currIndex+1\n      return {...state, tests, currIndex, done: state.currIndex >= tests.length-1 }\n    }\n\n    case 'RESOLVE_TEST_MANUALLY': {\n      if (!state.tests[action.data.index].pending) {\n        let tests = [...state.tests]\n        const result = {...state.tests[action.data.index].data.result, supported: action.data.resolution}\n        \n        const updated_test = {\n          ...state.tests[action.data.index],\n          pending: false,\n          error: false,\n          data: {...state.tests[action.data.index].data, result}\n        }\n        tests.splice(action.data.index, 1, updated_test)\n        return {...state, tests }\n      }\n      return state\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","const initialState = {\n    id: null,\n    email: '',\n    name: '',\n    surname: '',\n    image_url: '',\n    register_date: ''\n};\n\nexport default function userReducer(state = initialState, action) {\n\n    switch(action.type) {\n        case 'FETCH_USER':\n            return {\n                ...state,\n                pending: false,\n                error: false,\n                ...action.data\n            }\n\n        case 'FETCH_USER__PENDING':\n            return {\n                ...state,\n                pending: true,\n                error: false\n            }\n\n        case 'FETCH_USER__ERROR':\n            return {\n                ...state,\n                error: true,\n                pending: false,\n            }\n\n        default:\n            return state;\n    }\n}\n\n","import { combineReducers } from 'redux'\nimport dashboardReducer from './dashboardReducer'\nimport testReducer from './testReducer'\nimport userReducer from './userReducer'\nimport databaseReducer from './databaseReducer'\n\nexport default combineReducers({\n    dashboardReducer,\n    testReducer,\n    userReducer,\n    databaseReducer\n})","import { apiUrl } from '../config'\nimport * as $ from 'jquery';\n\n\nconst apiMiddleware = store => next => action => {\n    var type = action.type;\n    if (action.api) {\n        _doRequest(action).done(function(data){\n            action.type = type;\n            action.data = data;\n            delete action.api;\n            next(action);\n        }).fail(function(data){\n            action.type = type + \"__ERROR\";\n            action.data = data;\n            next(action); \n        });\n        action.type = type + \"__PENDING\";\n        next(action);\n    } else {\n        next(action);\n    }\n}\n\nconst _doRequest = function(action) {\n    const dfd = $.Deferred();\n\n    action.api.url = apiUrl + action.api.url;\n\n    $.ajax( action.api )\n    .done(function(data){\n        dfd.resolve(data);\n    })\n    .fail(function(err){\n        dfd.reject(err);\n    });\n\n    return dfd.promise();\n}\n\nexport default apiMiddleware","import configureStore from './configureStore'\n\nconst store = configureStore()\n\nexport default store;","import { createStore, applyMiddleware } from 'redux'\nimport ReduxThunk from 'redux-thunk' \nimport logger from 'redux-logger'\t\nimport rootReducer from '../reducers'\nimport apiMiddleware from '../middleware/apiMiddleware'\n\nexport default function configureStore(initialState = {}) {\n  const store = createStore(\n  \trootReducer,\n  \tapplyMiddleware(ReduxThunk, apiMiddleware, logger),\n\n  )\n  return store\n}","import store from '../store'\n\n\nexport function runTest() {\n    const {tests, currIndex} = store.getState().testReducer;\n    const {ip, port} = store.getState().dashboardReducer.currentDevice.data\n\n    const test = tests[currIndex];\n    \n    return {\n        type: 'RUN_TEST',\n        api: {\n            url: `/api/${test.service}_test/${test.name}?ip=${ip}&port=${port}`,\n            method: 'POST',\n            data: { test_type: test.service, test_name: test.name, ip, port }\n        }\n    } \n}\n\nexport function startTestAction(listItems) {\n    return {\n        type: 'INIT_TESTS',\n        data: [...listItems]\n    };\n}\n\nexport function nextTest() {\n    return {\n        type: 'NEXT_TEST',\n    };\n}\n\nexport function closeTestAction() {\n    return {\n        type: 'CLOSE_TEST',\n    };\n}\n\nexport function resolveTestManually(resolution, index) {\n    return {\n        type: 'RESOLVE_TEST_MANUALLY',\n        data: { resolution, index }\n    }\n}\n\n\n","import React, { Component } from 'react';\nimport * as $ from 'jquery';\nimport '../../styles/tooltip.css'\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as TestAction from '../../actions/testActions';\n\n\nconst ListItem = ({id, text, onClick}) => {\n    return (\n        <button key={id} type=\"button\" onClick={onClick} className={`list-group-item d-flex justify-content-between list-group-item-action`}>\n          {text}\n        </button>\n    )\n}\n\nconst flatten = list => list.reduce(\n    (a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []\n);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n      testActions: bindActionCreators(TestAction, dispatch)\n  }\n}\n\n\nclass DeviceTestTabContent extends Component {\n\n    state = {\n      selected_test_type: null,\n      left_column: [],\n      right_column: []\n    }\n\n    chooseTestType = (event) => {\n      let current_test = this.props.currentDeviceData.avaliable_tests.filter(test_type => test_type.service === event.target.value);\n      let available_tests = current_test.length > 0 ? current_test[0].available_tests : [];\n      \n      this.setState({        \n        selected_test_type: event.target.value,\n        left_column: available_tests\n          .filter(test => (this.state.right_column.filter(test => test.name === test && test.service === event.target.value).length === 0))\n          .map(test_name => ({ name: test_name, service: event.target.value }))\n      });\n    }\n\n    startTest = (listItems) => {\n      // console.log(listItems)\n      this.props.testActions.startTestAction(listItems);\n    }\n\n    addToRightColumn = (name, service) => {\n      if (this.state.right_column.filter(test => test.name === name && test.service === service).length === 0) {\n        this.setState({\n          right_column: [ { name, service }, ...this.state.right_column ]\n        })\n      }\n    }\n\n    removeFromRightColumn = (name, service) => {\n      this.setState({\n          right_column: this.state.right_column.filter(item => !(item.name === name && item.service === service))\n      })\n    }\n\n    getAddFullListBtn = () => {\n      let avaliable_tests = this.props.currentDeviceData.avaliable_tests;\n      let allTests = flatten(avaliable_tests.map(test_service => test_service.available_tests.map(name => ({name, service: test_service.service}))));\n      return (<button className=\"ml-3 btn btn-primary\" onClick={() => { this.setState({right_column: [...allTests]}) }}>{`Add all ${allTests.length} tests`}</button>) \n    }\n\n    componentDidMount() {\n      $('[data-toggle=\"tooltip\"]').tooltip({\n        title: \"<em>1.Select test <b><u>type</u></b>.</em> <br><em>2.Choose tests and add them into right column.<br>3.When Run button pressed, tests from the right column will be executed.<br> 4.Click on the test name to add or remove from the list.</em>\",\n        placement: 'bottom'\n      });\n    }\n\n    render() {\n\n        // Collections\n\n        const { currentDeviceData } = this.props;\n        const dropdownItems = currentDeviceData['Supported Services'].map((device, id) =>                 \n          <option \n            key={id}\n            value={device}>\n              {device}\n          </option>\n        ) \n\n        const leftItems = this.state.left_column\n        .filter(item => (this.state.right_column.filter(test => test.name === item.name && test.service === item.service).length === 0))\n        .map((item, id) => (\n            <ListItem \n                key={id} \n                text={`${id + 1}.${item.name} (${item.service})`} \n                onClick={() => { this.addToRightColumn(item.name, item.service) }}\n            />\n        ))  \n\n        const rightItems = this.state.right_column.map((item, id) => (\n            <ListItem \n                key={id} \n                text={`${id + 1}.${item.name} (${item.service})`} \n                onClick={() => { this.removeFromRightColumn(item.name, item.service) }}\n            />\n        ))  \n\n        // Buttons\n\n        const runBtn = (\n            <button className=\"ml-3 btn btn-primary\" onClick={() => { this.startTest(this.state.right_column)}}>\n              {`Run ${this.state.right_column.length} test${this.state.right_column.length===1?'':'s'}`}\n            </button>)\n\n        const aboutBtn = (\n            <button className=\"ml-3 btn btn-secondary\" data-toggle=\"modal\" data-target=\"#aboutTest\">\n              About test\n            </button>)   \n\n        const addAll = leftItems.length > 0 ? (\n            <button className=\"mb-3 btn btn-success\" \n              onClick={() => { this.setState({right_column: [...this.state.left_column, ...this.state.right_column]})}}>\n              Add all to the right\n            </button>) : (null); \n\n        const removeAll = rightItems.length > 0 ? (\n            <button className=\"mb-3 btn btn-danger\" \n              onClick={() => { this.setState({right_column: []}) }}>\n              Empty list\n            </button>) : (null);    \n        \n        const addFullList = this.getAddFullListBtn();\n\n        // Modal\n\n        const aboutModal = (\n          <div className=\"modal fade\" id=\"aboutTest\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"aboutTestTitle\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"aboutTestTitle\">Modal title</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\">\n                  ...\n                </div>\n                <div className=\"modal-footer\">          \n                  <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">Close</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n\n        return (\n          <React.Fragment>\n            <div className=\"card-body\">\n              <div className=\"row mb-2\">\n                <div className={'col d-flex'}>                  \n                  <span className=\"h5 m-0\">\n                    <h5 className=\"card-title\">Device Test:</h5> \n                  </span>\n                  <span className=\"ml-1\">\n                    <i className=\"align-middle material-icons\" data-toggle=\"tooltip\" \n                      data-placement=\"bottom\" data-html=\"true\" style={{'cursor': 'pointer'}}\n                      data-animation=\"true\">\n                      info\n                    </i>\n                  </span>\n                </div>\n                </div>\n              <div className=\"form-inline\">\n                <div className=\"form-group\">\n                  <label className=\"my-1 mr-2\" htmlFor=\"selectTestDropdown\">Test type:</label>\n                  <select \n                    id=\"selectTestDropdown\"\n                    value={this.state.selected_test_type ? this.state.selected_test_type : ''} \n                    className=\"form-control\"\n                    onChange={this.chooseTestType}\n                  >\n                    <option value=\"not selected\">not selected</option>\n                    { dropdownItems }\n                  </select>\n                </div>\n                <div className=\"form-group d-flex justify-content-between\">\n                  {aboutBtn}\n                  {aboutModal}\n                  {addFullList}\n                  {runBtn}\n                </div>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col\">\n                    {addAll}\n                    <div className={(this.state.selected_test_type && \n                    this.state.selected_test_type !== 'not selected') ? \n                    \"list-group pre-scrollable\" : \"list-group\"}>\n                      {leftItems}\n                    </div>\n                </div>\n                <div className=\"col\">\n                    {removeAll}\n                    <div className={(this.state.selected_test_type && \n                    this.state.selected_test_type !== 'not selected') ? \n                    \"list-group pre-scrollable\" : \"list-group\"}>\n                        {rightItems}\n                    </div>\n                </div>\n              </div>\n            </div>\n          </React.Fragment>\n        )\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(DeviceTestTabContent);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport '../../styles/loader.css';\n\nimport DeviceInfoTabContent from './deviceInfoTabContent.jsx'\nimport DeviceStreamTabContent from './deviceStreamTabContent.jsx'\nimport DeviceSettingsTabContent from './deviceSettingsTabContent.jsx'\nimport DeviceDatabaseTabContent from './deviceDatabaseTabContent.jsx'\nimport DeviceTestTabContent from './deviceTestTabContent.jsx'\n\nfunction mapStateToProps(state) {\n    return {\n        list: state.dashboardReducer.list,\n        currentDevice: state.dashboardReducer.currentDevice,\n        currentDeviceData: state.dashboardReducer.currentDevice.data\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch)\n    }\n}\n\n\nexport class DeviceInfo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentTab: 'testing'\n        }\n    }\n\n    render() {\n        let currentTabContent = (null);\n\n        if (this.state.currentTab === 'info') {\n            currentTabContent = (<DeviceInfoTabContent currentDeviceData={this.props.currentDeviceData}/>)\n        }\n\n        if (this.state.currentTab === 'stream') {\n            currentTabContent = (<DeviceStreamTabContent\n            snapshot_url={this.props.currentDeviceData['snapshot_url']}\n            private_snapshot_url = {this.props.currentDeviceData['private_snapshot_url']}\n            stream_url={this.props.currentDeviceData['stream_url']}\n            private_stream_url = {this.props.currentDeviceData['private_stream_url']}\n            currentDeviceData = {this.props.currentDeviceData} />);\n        }\n\n        if (this.state.currentTab === 'testing') {\n            currentTabContent = (<DeviceTestTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.state.currentTab === 'settings') {\n            currentTabContent = (<DeviceSettingsTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.state.currentTab === 'database') {\n            currentTabContent = (<DeviceDatabaseTabContent currentDeviceData={this.props.currentDeviceData}/>);\n        }\n\n        if (this.props.currentDevice.show) {\n            return (\n                <div className=\"card text-left\">\n                  <div className=\"card-header\">\n                    <ul className=\"nav nav-pills card-header-tabs\">\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'info'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'info'})}}\n                            href=\"#\">\n                                Information\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'stream'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'stream'})}}\n                            href=\"#\">\n                                Stream\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'testing'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'testing'})}}\n                            href=\"#\">\n                                Testing\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'settings'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'settings'})}}\n                            href=\"#\">\n                                Settings\n                        </a>\n                      </li>\n                      <li className=\"nav-item\">\n                        <a\n                            className={`nav-link ${this.state.currentTab === 'database'?'active':''}`} \n                            onClick={()=>{this.setState({currentTab: 'database'})}}\n                            href=\"#\">\n                                Database\n                        </a>\n                      </li>\n                    </ul>\n                  </div>\n                  {currentTabContent}\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"card text-center\">\n                  <div className=\"card-body d-flex align-items-center justify-content-center\">\n                    <h4 className=\"card-title text-center mb-0\">{this.props.currentDevice.pending || this.props.list.pending ?'Loading...':'Choose device from the list'}</h4>\n                    {this.props.currentDevice.pending || this.props.list.pending ? (<div className=\"loader\"></div>):(null)}\n                  </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeviceInfo)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as DashboardAction from '../../actions/dashboardActions';\nimport * as UserAction from '../../actions/userActions';\nimport DevicesList from './devicesList.jsx';\nimport DeviceInfo from './deviceInfo.jsx';\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tdashboard: state.dashboardReducer.list,\n\t\tcurrentDevice: state.dashboardReducer.currentDevice,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dashboardActions: bindActionCreators(DashboardAction, dispatch),\n        userActions: bindActionCreators(UserAction, dispatch),\n\n    }\n}\n\n\nexport class Dashboard extends React.Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.userActions.fetchUser();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-12 col-md-3  mb-3\">\n\t\t\t\t\t<DevicesList/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-sm-12 col-md-9\">\n\t\t\t\t\t<DeviceInfo/>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\t\n\t\t);\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Dashboard)\n","import React from 'react';\n\nconst Navbar = (props) => {\n    return (\n        <nav className=\"navbar navbar-dark bg-primary mb-3\">\n            <a className=\"navbar-brand\" href=\"#\">\n                { /*<img src={brand} height={\"30\"} className={\"d-inline-block align-top mr-4\"} alt={\"\"}/> */}\n                ONVIF Compliance Tester\n            </a>\n            <ul className=\"navbar-nav mr-auto\">\n            </ul>\n            <div className=\"form-inline my-2 my-lg-0 mr-5\">\n              <p className=\"mb-0 mr-3 text-light\">{`${props.user.name} ${props.user.surname}`}</p>\n              <a className=\"text-light\" href=\"/logout\">Logout</a>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar;\n","import React from 'react';\n\nconst Summary = (props) => {\n\n    const result = props.testResponse.reduce((summary, item) => {\n        summary[item.service] = summary[item.service] || [];\n        summary[item.service].push(item);\n        return summary;\n      }, {});\n\n    // console.log(result);\n\n    const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\n\n    const summaryItems = Object.keys(result).sort().map((key, id) => (\n        <React.Fragment key={id}>\n            <p><b>{capitalize(key)}:</b></p>\n            <table className=\"table table-bordered table-responsive-md\">\n                <tbody>\n                    {result[key].map((item, id) => (\n                        <tr className=\"row m-0\" key={id}>\n                          {item.data.result ? <th className=\"col-1\"scope=\"row\">{id+1}</th> : (null)}\n                          {item.data.result ? <td className=\"col-5\">{ item.data.result.report_name }</td> : (null)}\n                          {item.data.result ?\n                          <td className={`col-6 ${item.data.result.supported ? \"text-success\":\"text-danger\"}`}>\n                          {item.data.result.supported ? \"Supported\" : \"Not supported\"}\n                          {item.data.result.report ?\n                            <React.Fragment>\n                              <button className=\"ml-3 btn btn-secondary btn-sm\" data-toggle=\"collapse\" data-target={`#features${id}`}>View</button>\n                              <div id={`features${id}`} className=\"collapse\">\n                                {item.data.result.report.split(\"\\n\").map((i,key) => {\n                                  return <p style={{'lineHeight': '20px'}}\n                                  className=\"text-dark mt-2\" key={key}>{i}</p>;\n                                })}\n                              </div>\n                            </React.Fragment>\n                          : (null)\n                          }\n                          </td>: (null)}\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </React.Fragment>)\n    );\n\n    // console.log(summaryItems);\n\n\treturn (\n        <React.Fragment>\n            { summaryItems }\n        </React.Fragment>\n    )\n}\n\nexport default Summary;","import React from 'react';\nimport StreamContainer from '../stream/stream'\n// Modal for ClassInteractiveTest with snapshots\n\nconst Modal = (props) => {\n\treturn (\n        <div className=\"modal fade\" id={props.id} tabIndex=\"-1\" role=\"dialog\">\n        <div className=\"modal-dialog modal-lg modal-dialog-scrollable\" role=\"document\">\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\" onClick={()=>{props.onClose && props.onClose()}}>{`${props.title}`}</h5>\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div className=\"modal-body\">\n                <StreamContainer dontkill={true} ip={props.ip} port={props.port}/>\n            </div>\n            <div className=\"modal-footer\">\n                {props.testIsDone && <React.Fragment>\n                    <button type=\"button\" className=\"btn btn-danger\" onClick={()=>{props.onTestFailed && props.onTestFailed()}}>Failed</button>\n                    <button type=\"button\" className=\"btn btn-success\" onClick={()=>{props.onTestPassed && props.onTestPassed()}}>Passed</button>\n                </React.Fragment>}\n                {(props.testInProgress && !props.testIsDone) ? (<span>Test in progress...</span>) : (null)}\n                {(!props.testInProgress && !props.testIsDone) ? (<button type=\"button\" className=\"btn btn-primary\" onClick={()=>{props.onStart && props.onStart()}}>Start the test</button>) : (null)}\n                \n            </div>\n            </div>\n        </div>\n        </div>\n\t)\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Summary from './summary.jsx'\nimport * as TestAction from '../../actions/testActions';\nimport '../../styles/horizontal-loader.css';\nimport { apiUrl } from '../../config';\nimport errorImg from '../../assets/letter-x.png'\nimport fetchedImg from '../../assets/tick.png'\nimport Modal from './modal.jsx'\nimport $ from 'jquery';\n\n\nfunction mapStateToProps(state) {\n    return {\n        currentDevice: state.dashboardReducer.currentDevice.data,\n        testsList: state.testReducer.tests,\n        testsFetched: state.testReducer.testInProgress,\n        testsDone: state.testReducer.done,\n        currTestIndex: state.testReducer.currIndex,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        testActions: bindActionCreators(TestAction, dispatch)\n    }\n}\n\n\n\nexport class Report extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        isReportReady: false,\n        printResponses: false\n      }\n    }\n\n    toggleChange = () => {\n      this.setState({\n        printResponses: !this.state.printResponses\n      });\n    }\n\n    handleDownload = (value) => {\n        this.setState(\n          {\n            isReportReady: value\n          }\n        )\n    }\n\n    componentDidMount() {\n        this.runTest()\n    }\n    componentDidUpdate() {\n        this.runTest()\n    }\n\n    runTest() {\n        const currTest = this.props.testsList[this.props.currTestIndex];\n        if (!this.props.testsDone \n            && currTest\n            && !currTest.pending\n            && Object.entries(currTest.data).length === 0\n            && !this.state.showModal) {\n\n            if (~currTest.name.indexOf('Interactive')) {\n                $('#streamModal').modal('show')\n            } else {\n                $('#streamModal').modal('hide')\n               this.props.testActions.runTest() \n            }\n        }\n    }\n\n    resolveTestManually(resolution, index) {\n        this.props.testActions.nextTest()\n        this.props.testActions.resolveTestManually(resolution, index)\n    }\n\n    downloadReport = () => {\n      this.handleDownload(true);\n    \tconst deviceData = { ...this.props.currentDevice };\n    \tconst testsList = this.props.testsList\n        .filter(item => !item.pending && !item.error);\n\n      const result = testsList.reduce((summary, item) => {\n        summary[item.service] = summary[item.service] || [];\n        summary[item.service].push(item);\n        return summary;\n      }, {});\n\n    \tconst data = {\n    \t\tcamInfo: {...deviceData},\n        runnedTests: {...result},\n        printResponses: this.state.printResponses\n      }\n\n      console.log(data);\n\n    \tfetch(`${apiUrl}/api/report`, {\n    \t \tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t  'Accept': 'application/json',\n\t\t\t  'Content-Type': 'application/json'\n\t\t\t},\n    \t\tbody: JSON.stringify(data) })\n      .then(resp => resp.json())\n      .then(json => {\n        window.open(`${apiUrl}/${json.response}`, '_blank');\n        this.handleDownload(false);\n        }\n      )\n    }\n\n    returnBack = () => {\n        fetch(`${apiUrl}/api/stop_stream?ip=${this.props.currentDevice.ip}&port=${this.props.currentDevice.port}`)\n        .then(() =>{})\n        .catch(() =>{})\n        this.props.testActions.closeTestAction();\n    }\n\n    render() {\n        const downloadBtn = !this.state.isReportReady ? (\n          <button className=\"ml-3 btn btn-primary\" onClick={() => { this.downloadReport() }}>\n            Download Report\n          </button>) : (\n          <button className=\"ml-3 btn btn-primary\" type=\"button\" disabled>\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\n            </span>\n            {'    Loading...'}\n          </button>\n          )\n\n        const backBtn = (\n            <button className=\"ml-3 btn btn-primary\" onClick={() => { this.returnBack() }}>\n              Back\n            </button>)\n\n        const listItems = this.props.testsList.map((item, index) => (\n            <div className=\"card\" key={index}>\n              <div className=\"card-header\" id={`heading${index}`}>\n                <h5 className=\"mb-0 d-flex justify-content-between align-items-center\">\n                  <button className=\"btn btn-link\" style={{color: 'black'}} data-toggle=\"collapse\" data-target={`#collapse${index}`} aria-expanded=\"true\" aria-controls={`#collapse${index}`}>\n                      {item.name} ({item.service})\n                  </button>\n                  <div className=\"d-inline-block\">\n                    {item.pending ? (<div className=\"typing_loader\"></div>) : null }\n                    {item.error ? (<img src={ errorImg } alt=\"error\"/>) : null }\n                    {item.data.result ? (<img src={ fetchedImg }/>) : null }\n                  </div>\n                </h5>\n              </div>\n              <div id={`collapse${index}`} className=\"collapse\" aria-labelledby={`#heading${index}`} data-parent=\"#accordion\">\n                <div className=\"card-body\">\n                  {item.data.result ? <p>{item.data.result.supported?`${item.name} is supported`:`${item.name} is not supported`}</p>: (null)}\n                  {item.data.result ? <p>{item.data.result.extension?`Test Feature: ${item.data.result.extension}`:(null)}</p>: (null)}\n                  {item.data.result ? <pre>{item.data.result.response?`Response: ${item.data.result.response}`:(null)}</pre>: (null)}\n                </div>\n              </div>\n            </div>\n        ));\n\n        const tCurrTest = this.props.testsList[this.props.currTestIndex];\n        const currIndex = this.props.currTestIndex\n        const modalTitle = tCurrTest ? tCurrTest.name : \"N/A\";\n        const testInProgress = tCurrTest && tCurrTest.pending;\n        const testIsDone = tCurrTest && Object.entries(tCurrTest.data).length !== 0\n\n        return (\n            <React.Fragment>\n              <h5>Report:</h5>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                    <button className=\"m-1 btn btn-primary\" data-toggle=\"collapse\" data-target=\"#summary\">Summary</button>\n                    <div id=\"summary\" className=\"m-2 collapse\">\n                      <Summary testResponse = { this.props.testsList } />\n                    </div>\n                    <div id=\"accordion\">\n                      {listItems}\n                    </div>\n                    <div className=\"form-group d-flex justify-content-end mt-4\">\n                      <div className=\"form-check\">\n                        <input type=\"checkbox\" checked={this.state.printResponses}\n                        onChange={() => {this.toggleChange()}} className=\"form-check-input\"\n                        id=\"exampleCheck1\"/>\n                        <label className=\"form-check-label\" for=\"exampleCheck1\">\n                        Include responses in report\n                        </label>\n                      </div>\n                      {downloadBtn}\n                      {backBtn}\n                    </div>\n                </div>\n              </div>\n              {<Modal\n                id={'streamModal'}\n                title={modalTitle}\n                ip={this.props.currentDevice.ip}\n                port={this.props.currentDevice.port}\n                testInProgress={testInProgress}\n                testIsDone={testIsDone}\n                onStart={() => {this.props.testActions.runTest()}}\n                onClose={() => {this.props.testActions.nextTest()}}\n                onTestFailed={()=>{this.resolveTestManually(false, currIndex)}}\n                onTestPassed={()=>{this.resolveTestManually(true, currIndex)}}\n                />}\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Report)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport bootstrap from 'bootstrap';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'material-icons/iconfont/material-icons.css';\nimport './styles/common.css';\n\nimport Dashboard from './components/dashboard/dashboard.jsx'\nimport Navbar from './components/navbar/navbar.jsx'\nimport Report from './components/report/report.jsx'\n\nfunction mapStateToProps(state) {\n  return {\n    testInProgress: state.testReducer.testInProgress,\n    user: state.userReducer,\n  };\n}\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar user={this.props.user}/>\n        <div className=\"container\">\n          {this.props.testInProgress ? <Report/> : <Dashboard/>}\n        </div> \n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, null)(App)\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}